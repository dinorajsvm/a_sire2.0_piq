<div class="col-sm-12" id="summaryWrapper">
  <!-- <div class="row">
    <div class="col-sm-6">
      <span class="page_Title">PIQ Summary </span>
    </div>

    <div class="col-sm-12 text-right">
      <div class="row" style="float: right">
        <button mat-button class="syncBtn" type="submit" (click)="openDialog()">
          Reuse Past Template
        </button>
        <button *ngIf="userDetails?.cntrlType === 'CNT002'" mat-button class="syncBtn" type="submit"
          (click)="onSubmit('syncToStore')">
          Sync to Shore
        </button>
        <button *ngIf="userDetails?.cntrlType === 'CNT001'" mat-button class="syncBtn" type="submit"
          (click)="onSubmit('syncToStore')">
          Sync to Ship
        </button>
        <div>
          <button mat-button class="sub" [ngClass]="isNotNull ? 'sub' : 'disableSyncBtn'" type="submit"
            [disabled]="!isNotNull" (click)="onSubmit('submit')">
            Submit
          </button>
          <img class="btnImg" id="subBtn" src="assets/question/SUB.svg" />
        </div>
      </div>
    </div> 
  </div>-->
  <form [formGroup]="autoSaveForm">
  <div class="col-sm-12">
    <div class="row">
      <div class="col-sm-4 pl-0">
        <div class="row">
          <div class="col-sm-6 pr-0 contWrap">
            <mat-card appearance="outlined" class="summaryCard">
              <span class="header count-font">Total Questions</span>
              <mat-card-header>
                <mat-card-title>
                  <div class="summaryValWrap">
                    <div class="imgWrap qa">
                      <img src="assets/question/qa.svg" class="dataImg" />
                    </div>
                    <span class="count-font">{{pendingQuestCount}} /
                      {{totalQuestCount}}</span>
                  </div>
                </mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <!-- <span class="description-font">The total number of questions and answers.</span> -->
              </mat-card-content>
            </mat-card>
          </div>
          <div class="col-sm-6 pr-0 contWrap">
            <mat-card appearance="outlined" class="summaryCard">
              <span class="header count-font-photo">Photo Repository</span>
              <mat-card-header>
                <mat-card-title>
                  <div class="summaryValWrap">
                    <div class="imgWrap photo">
                      <img src="assets/question/photo.svg" class="dataImg1" />
                    </div>
                    <span class="count-font-photo">{{photoRepImgCounts}} /
                      {{photoRepCounts}}</span>
                  </div>
                </mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <!-- <span class="description-font">The total number of photo repository.</span> -->
              </mat-card-content>
            </mat-card>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 pr-0 contWrap">
            <mat-card appearance="outlined" class="summaryCard">
              <span class="header count-font-pending">Exceptions</span>
              <mat-card-header>
                <mat-card-title>
                  <div class="summaryValWrap">
                    <div class="imgWrap exception">
                      <img src="assets/question/exception.svg" class="dataImg" />
                    </div>
                    <span class="count-font-pending">{{exceptionCounts}}</span>
                  </div>
                </mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <!-- <span class="description-font">The total number of exception questions.</span> -->
              </mat-card-content>
            </mat-card>
          </div>
          <!-- <div class="col-sm-4 pr-0 contWrap">
            <mat-card appearance="outlined" class="summaryCard">
              <span class="header count-font-preset">Preset Questions</span>
              <mat-card-header>
                <mat-card-title>
                  <div class="summaryValWrap">
                    <div class="imgWrap preset">
                      <img src="assets/question/preset.svg" class="dataImg1" />
                    </div>
                    <span class="count-font-preset">{{presetQuestCounts}}</span>
                  </div>
                </mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <span class="description-font">The total number of preset questions.</span>
              </mat-card-content>
            </mat-card>
          </div> -->
          <div class="col-sm-6 pr-0 contWrap">
            <mat-card appearance="outlined" class="summaryCard">
              <span class="header count-font-certificate">Certificate</span>
              <mat-card-header>
                <mat-card-title>
                  <div class="summaryValWrap">
                    <div class="imgWrap certificate">
                      <img src="assets/question/certificate.svg" class="dataImg" />
                    </div>
                    <span class="count-font-certificate">{{mappedCertificateCounts}} / {{certificateCounts}}</span>
                  </div>
                </mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <!-- <span class="description-font">The total number of mapped certificate.</span> -->
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </div>
     
      <div class="col-sm-8 pr-0">
        <div class="row">
          <div class="col-sm-12 contWrap">
            <div class="row" style="justify-content: flex-end;">
              <div class="col-sm-4">
                <div class="row" style="flex-direction: column;">
                  <div class="col-sm-8">
                    <span style="font-weight: 500;">Planned Submission Date</span>
                  </div>
                  <div class="col-sm-8">
                      <mat-form-field appearance="outline"  class="datePicker">
                        <input matInput [matDatepicker]="picker" formControlName="dateField"
                          (dateInput)="onDateChange($event)" autocomplete="off"  />
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </mat-form-field>
                  </div>
                </div>
              </div>
              <div class="col-sm-8" style="display: flex;justify-content: flex-end;">
                <button mat-button class="syncBtn" type="submit" (click)="openDialog()">
                  Re-Use Past Template
                </button>
                <button *ngIf="userDetails?.cntrlType === 'CNT002'" mat-button class="syncBtn" type="submit"
                  (click)="onSubmit('syncToStore')">
                  Sync to Shore
                </button>
                <button *ngIf="userDetails?.cntrlType === 'CNT001'" mat-button class="syncBtn" type="submit"
                  (click)="onSubmit('syncToStore')">
                  Sync to Ship
                </button>
                <div [class.hideFlowBtns]="getWorkFlowAction==='Approved'" style="display: flex;">
                <div *ngIf="getWorkFlowAction=='Inprogress'|| getWorkFlowAction=='ReAssigned'">
                  <button mat-button class="sub"  type="submit" 
                     (click)="onSubmit('submit')">
                     <!-- [disabled]="disableFlowBtn" [ngClass]="!disableFlowBtn ? 'sub' : 'disableSyncBtn'" -->
                    Submit
                  </button>
                  <img class="btnImg" id="subBtn" src="assets/question/SUB.svg" />
                </div>
                <div *ngIf="getWorkFlowAction=='Submitted' && userDetails?.cntrlType === 'CNT001'">
                  <button mat-button class="rsn" (click)="onWorkflow('reassign')"  type="submit" >
                    <!-- [ngClass]="!disableFlowBtn ? 'rsn' : 'disableSyncBtn'" [disabled]="disableFlowBtn" -->
                    Reassign
                  </button>
                  <img class="btnImg" id="subBtn" src="assets/question/RSN.svg" />
                </div>
                <div *ngIf="getWorkFlowAction=='Submitted' && userDetails?.cntrlType === 'CNT001'">
                  <button mat-button class="apr" (click)="onWorkflow('approve')" type="submit" >
                    <!-- [disabled]="disableFlowBtn" [ngClass]="!disableFlowBtn ? 'apr' : 'disableSyncBtn'" -->
                    Approve
                  </button>
                  <img class="btnImg" id="subBtn" src="assets/question/APR.svg" />
                </div>
              </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <textarea id="float-input" autoResize="true" class="w-100" rows="2" #textArea cols="30"
                  placeholder="Workflow Remarks" maxlength="1000" [(ngModel)]="remarks"  pInputTextarea></textarea>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <span class="p-float-label">
              <span class="table-header">Quick Notes</span>
              <textarea id="float-input" autoResize="true" class="w-100" rows="4" #textArea cols="30"
                placeholder="Quick notes" maxlength="1000" formControlName="TextAreaField" (blur)="onInputBlur()" [(ngModel)]="quickNotesInput" pInputTextarea></textarea>
                
            </span>
            <div class="text-right">
              <span style="font-size: 12px;text-align: right;">
                {{1000 - textArea.value.length}} Characters Remaining
              </span>
            </div>
            <!-- <div class="row" style="justify-content: flex-end;">
              <div class="col-sm-12 text-right">
                <button mat-button class="save float-right" type="submit" (click)="onSubmitQuickNotes()">
                  Save
                </button>
              </div>
            </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

  <div class="row">
    <div class="col-sm-12">
      <span class="table-header">Chapter Summary </span>
      <ag-grid-angular style="height: calc(100vh - 429px);overflow: auto" class="ag-theme-balham"
        [columnDefs]="columnDefs" [defaultColDef]="defaultColDef" [gridOptions]="gridOptions" [animateRows]="true"
        [suppressMenuHide]="true" [masterDetail]="true" [embedFullWidthRows]="true" [rowData]="rowData"
        (gridReady)="onGridReady($event)">
      </ag-grid-angular>
    </div>
  </div>

  <div class="row mt-2">
    <div class="col-sm-6">
      <span class="table-header">Photo Repository Summary </span>
      <ag-grid-angular style="height: calc(100vh - 429px);overflow: auto" class="ag-theme-balham"
        [columnDefs]="photoColumnDefs" [defaultColDef]="defaultColDef" [gridOptions]="gridOptions" [animateRows]="true"
        [suppressMenuHide]="true" [masterDetail]="true" [embedFullWidthRows]="true" [rowData]="photoRowData"
        [suppressHorizontalScroll]="true">
      </ag-grid-angular>
    </div>
    <div class="col-sm-6">
      <span class="table-header">Last Modified Data</span>
      <ag-grid-angular style="height: calc(100vh - 429px)" class="ag-theme-balham" [columnDefs]="modifiedColumns"
        [defaultColDef]="defaultColDef" [gridOptions]="gridOptions" [animateRows]="true" [suppressMenuHide]="true"
        [masterDetail]="true" [embedFullWidthRows]="true" [rowData]="modifiedrowData">
      </ag-grid-angular>
    </div>
  </div>

  <div class="row mt-2">
    <div class="col-sm-6">
      <span class="table-header">Certificate Summary</span>
      <ag-grid-angular style="height: calc(100vh - 429px)" class="ag-theme-balham" [columnDefs]="certificateColumns"
        [defaultColDef]="defaultColDef" [gridOptions]="gridOptions" [animateRows]="true" [suppressMenuHide]="true"
        [masterDetail]="true" [embedFullWidthRows]="true" [rowData]="certificateRowData"
        [tooltipShowDelay]="tooltipShowDelay" [tooltipHideDelay]="tooltipHideDelay">
      </ag-grid-angular>
    </div>
    <div class="col-sm-6" *ngIf="userDetails?.cntrlType === 'CNT001'">
      <span class="table-header">Last Sync to Ship Summary </span>
      <ag-grid-angular style="height: calc(100vh - 429px);overflow: auto" class="ag-theme-balham"
        [columnDefs]="expectedColumnDefs" [defaultColDef]="defaultColDef" [gridOptions]="gridOptions"
        [animateRows]="true" [suppressMenuHide]="true" [masterDetail]="true" [embedFullWidthRows]="true"
        [rowData]="expectedRowData">
      </ag-grid-angular>
    </div>
    <div class="col-sm-6" *ngIf="userDetails?.cntrlType === 'CNT002'">
      <span class="table-header">Last Sync to Shore Summary </span>
      <ag-grid-angular style="height: calc(100vh - 429px);overflow: auto" class="ag-theme-balham"
        [columnDefs]="expectedColumnDefs" [defaultColDef]="defaultColDef" [gridOptions]="gridOptions"
        [animateRows]="true" [rowData]="expectedRowData">
      </ag-grid-angular>
    </div>
  </div>

  <!-- <div class="col-sm-12 text-right" style="padding: 0">
    <div style="display: flex; justify-content: end; align-items: center">
      <button mat-button class=" save float-right" type="submit" (click)="onSubmitQuickNotes()">
        Save
      </button>
    </div>
  </div> -->
</div>